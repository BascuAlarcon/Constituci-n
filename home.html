<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Fragmentos</title>
    <h1 id="textTitulo">Fragmentos</h1>
    <h2 id="textSubtitulo">Composición de la desembocadura del río Maule</h2>
    
    </head>
    <body id="body">   
    <div id="backgr"> 

      <div id="divTextLeft">
        <h1 id="textVideoLeft"></h1> 
      </div>
  
      <div id="divTextRight">
        <h1 id="textVideoRight"></h1> 
      </div>
      
        

    <video id="vid3" class="mediumVideo"  autoplay muted loop onclick="goFullscreen('vid3'); return false" class="videos"> 
      <source src="PREVIA/003.mp4" type="video/mp4">
      <source src="PREVIA/003.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>   

    <video id="vid0" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid0'); return false" class="videos">
      <source src="PREVIA/000.mp4" type="video/mp4">
      <source src="PREVIA/000.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid1" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid1'); return false" class="videos">
      <source src="PREVIA/001.mp4" type="video/mp4">
      <source src="PREVIA/001.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>
  
    <video id="vid2" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid2'); return false" class="videos">
      <source src="PREVIA/002.mp4" type="video/mp4">
      <source src="PREVIA/002.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid4" class="largeVideo" autoplay muted loop onclick="goFullscreen('vid4'); return false" class="videos"> 
      <source src="PREVIA/004.mp4" type="video/mp4">
      <source src="PREVIA/004.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>   

    <video id="vid5" class="largeVideo"  autoplay muted loop onclick="goFullscreen('vid5'); return false" class="videos"> 
      <source src="PREVIA/005.mp4" type="video/mp4">
      <source src="PREVIA/005.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>  
    
    <video id="vid6" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid6'); return false" class="videos"> 
      <source src="PREVIA/006.mp4" type="video/mp4">
      <source src="PREVIA/006.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>

    <video id="vid7" class="smallVideo" autoplay muted loop onclick="goFullscreen('vid7'); return false" class="videos"> 
      <source src="PREVIA/007.mp4" type="video/mp4">
      <source src="PREVIA/007.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>  

    <video id="vid8" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid8'); return false" class="videos"> 
      <source src="PREVIA/008.mp4" type="video/mp4">
      <source src="PREVIA/008.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid9" class="smallVideo" autoplay muted loop onclick="goFullscreen('vid9'); return false" class="videos"> 
      <source src="PREVIA/009.mp4" type="video/mp4">
      <source src="PREVIA/009.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid10" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid10'); return false" class="videos"> 
      <source src="PREVIA/010.mp4" type="video/mp4">
      <source src="PREVIA/010.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid11" class="smallVideo" autoplay muted loop onclick="goFullscreen('vid11'); return false" class="videos"> 
      <source src="PREVIA/011.mp4" type="video/mp4">
      <source src="PREVIA/011.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid12" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid12'); return false" class="videos"> 
    <!-- <source src="PREVIA/012.mp4" type="video/mp4"> -->
    <!-- <source src="PREVIA/012.ogg" type="video/ogg">  -->
      Your browser does not support the video tag.
    </video> 

    <video id="vid13" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid13'); return false" class="videos"> 
      <source src="PREVIA/013.mp4" type="video/mp4">
      <source src="PREVIA/013.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid14" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid14'); return false" class="videos"> 
      <source src="PREVIA/014.mp4" type="video/mp4">
      <source src="PREVIA/014.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid15" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid15'); return false" class="videos"> 
      <source src="PREVIA/015.mp4" type="video/mp4">
      <source src="PREVIA/015.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid16" class="smallVideo" autoplay muted loop onclick="goFullscreen('vid16'); return false" class="videos"> 
      <source src="PREVIA/016.mp4" type="video/mp4">
      <source src="PREVIA/016.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 
    
    <video id="vid17" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid17'); return false" class="videos"> 
      <source src="PREVIA/017.mp4" type="video/mp4">
      <source src="PREVIA/017.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid18" class="smallVideo" autoplay muted loop onclick="goFullscreen('vid18'); return false" class="videos"> 
      <source src="PREVIA/018.mp4" type="video/mp4">
      <source src="PREVIA/018.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 

    <video id="vid19" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid19'); return false" class="videos"> 
      <source src="PREVIA/019.mp4" type="video/mp4">
      <source src="PREVIA/019.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video> 
    
    <video id="vid20" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid20'); return false" class="videos"> 
      <source src="PREVIA/020.mp4" type="video/mp4">
      <source src="PREVIA/020.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>

    <video id="vid21" class="mediumVideo" autoplay muted loop onclick="goFullscreen('vid21'); return false" class="videos"> 
      <source src="PREVIA/021.mp4" type="video/mp4">
      <source src="PREVIA/021.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>

    <video id="vid22" class="usmallVideo" autoplay muted loop onclick="goFullscreen('vid22'); return false" class="videos"> 
      <source src="PREVIA/022.mp4" type="video/mp4">
      <source src="PREVIA/022.ogg" type="video/ogg">
      Your browser does not support the video tag.
    </video>



   </div> 
</body>

<script>

  // create the multimensional array
  var countVideos = 23;

  // create the array with the texts
  var textArray = new Array(countVideos); 
  // console.log(textArray);
  createArrays(countVideos);
  // save text of videos
  saveTexts();
  //saveTextDev();

  var dimensions = new Array(2);
  dimensions[0] = new Array(20);
  dimensions[1] = new Array(20);
 
  // save position of videos
  saveDimentions();
 
  function goFullscreen(id) {  

    // to Do:
    // When the users zooms in the screen, and then click on one video, the video will set in position declarated in code below 

    var element = document.getElementById(id);       
    var element2 = document.getElementById('body');    
    var element3 = document.getElementsByClassName('videos');   
    var elementTitulo = document.getElementById("textTitulo");
    var elementSubtitulo = document.getElementById("textSubtitulo");
    var elementVideo4 = document.getElementById("textVideo4");

    element.muted = !element.muted;

    if(id.length === 4){
        var idVideo = id.substring(3,4);
      }
      if(id.length === 5){
        var idVideo = id.substring(3,5);
      }
    
    if (element.style.width == '45%') {
      
      if(element.className === "usmallVideo"){
        element.style.width = '70px';
      }

      if(element.className === "smallVideo"){
        element.style.width = '100px';
      }
      
      if(element.className === "mediumVideo"){
        element.style.width = '150px';
      }
      
      if(element.className === "largeVideo"){
        element.style.width = '280px';
      }
      
      element.style.position = 'absolute'; 
      element2.style.backgroundImage = "url('./PREVIA/0001_FONDOV2.jpg')";      

      // set position of video from multidimensional array

      
      
      element.style.top = dimensions[0][idVideo].toString()+'px';
      element.style.left = dimensions[1][idVideo].toString()+'px';  
      // console.log(dimensions[0][idVideo].toString()+'px')
      // console.log(dimensions[1][idVideo].toString()+'px') 

      elementTitulo.style.display = "inline";
      hideTextByVideo();

      elementSubtitulo.style.display = "inline";
      enableAllVideos(id);
    } else {
      var estilos = window.getComputedStyle(element, null);
      var altura = estilos.getPropertyValue("top");
      var altura2 = estilos.getPropertyValue("left");

      // set the video on fullscreen 
      element.style.width = '45%';
      element.style.position = 'absolute'; 
      element.style.zIndex = '1';  
      element.style.display = 'inline'; 
      element.style.top = '250px';  
      element.style.left = '500px';    
      
      // add a new background image, that have opacity per se
      element2.style.backgroundImage = "url('./PREVIA/0004_FONDO.jpg')";      
    
      

      elementTitulo.style.display = "none";
      elementSubtitulo.style.display = "none";
      showTextByVideo(idVideo);
      disableAllVideos(id);
    }  
  }   

  function showTextByVideo(id){
    // console.log(id);
    var elementVideo4 = document.getElementById("textVideo4"); 
    if(id === "22"){
      elementVideo4.style.display = "inline"; 
    } 
  }
  
  // disable all videos except the one that user click
  function disableAllVideos(idToKeepShowing){ 
    for (let index = 0; index < countVideos; index++) {
      var element = document.getElementById("vid"+index);   
      if (element.id != idToKeepShowing) {
        console.log(element.id);
        element.style.display = "none"; 
      }
    }
  }

  // enable all videos 
  function enableAllVideos(idToKeepShowing){ 
    for (let index = 0; index < countVideos; index++) {
      var element = document.getElementById("vid"+index);   
      if (element.id != idToKeepShowing) {
        console.log(element.id);
        element.style.display = "inline"; 
      }
    }
  }  

  function saveDimentions(){

    for (let index = 0; index < countVideos; index++) {
      for (let index2 = 0; index2 < 2; index2++) {
        // get the video id 
        var element = document.getElementById("vid"+index);  

        // get the dimensions 
        var estilos = window.getComputedStyle(element, null);
        var dtop = estilos.getPropertyValue("top");
        var dleft = estilos.getPropertyValue("left");
        
        // parce format
        dtop = dtop.replace('p','');
        dtop = dtop.replace('x','');
        dleft = dleft.replace('p','');
        dleft = dleft.replace('x',''); 
        
        // save dimension in array  
        if (index2 === 0) { 
          dimensions[index2][index] = parseInt(dtop);   
        }else{ 
          dimensions[index2][index] = parseInt(dleft);  
        } 
      }
      // be careful: los id de los videos tienen que tener el formato vid1-vid2-vid3, no vid01-vid02-vid03  
    }    
    // getDimensions();
  }

  // get all dimension (purpose only to development)
  function getDimensions(){
    for(var i=0; i<countVideos; i++) { 
      for(var j=0; j<2; j++) {
         console.log(dimensions[j][i]);
      }
    }
  }

  // hide the text of the video by id
  function hideTextByVideo(){
    var textVideoLeft = document.getElementById("textVideoLeft"); 
    var textVideoRight = document.getElementById("textVideoRight");  
    
    textVideoLeft.style.display = "none"; 
    textVideoRight.style.display = "none"; 
     
  }

  // show the text of the video by id
  function showTextByVideo(id){
    var textVideoLeft = document.getElementById("textVideoLeft"); 
    var textVideoRight = document.getElementById("textVideoRight");  
    textVideoLeft.style.display = "inline"; 
    textVideoRight.style.display = "inline"; 
     
    textVideoLeft.innerText = textArray[id][0];
    textVideoRight.innerText = textArray[id][1];  
  }

  // create the full array
  function createArrays(countVideos){  
    for (let index = 0; index < countVideos; index++) { 
      textArray[index] = new Array(2);   
    }   
  }

  // [ONLY TO DEV] save the text of the videos in the array 
  function saveTextDev(){
    for (let index = 0; index < countVideos; index++) {
      for (let index2 = 0; index2 < 2; index2++) {
        textArray[index][index2] = "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\n\n\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.\n\n\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."
      }
      
    }
  }
  
  // save the text of the videos in the array
  function saveTexts(){
    textArray[0][0] = "asd ";
    textArray[0][1] = "asd";

    textArray[1][0] = "asd 2";
    textArray[1][1] = "asd 2";

    textArray[2][0] = "asd 3";
    textArray[2][1] = "asd 3";

    textArray[3][0] = "asd 4";
    textArray[3][1] = "asd 4"; 

    textArray[4][0] = "asd 4"; 
    textArray[4][1] = "asd 5"; 

    textArray[5][0] = "asd"; 
    textArray[5][1] = "asd"; 

    textArray[6][0] = "asd"; 
    textArray[6][1] = "asd"; 

    textArray[7][0] = "asd"; 
    textArray[7][1] = "asd"; 

    textArray[8][0] = "asd"; 
    textArray[8][1] = "asd"; 

    textArray[9][0] = "asd"; 
    textArray[9][1] = "asd"; 

    textArray[10][0] = "asd"; 
    textArray[10][1] = "asd"; 

    textArray[11][0] = "asd"; 
    textArray[11][1] = "asd";

    textArray[12][1] = "asd"; 
    textArray[12][0] = "asd"; 

    textArray[13][0] = "asd"; 
    textArray[13][1] = "asd";

    textArray[14][0] = "asd"; 
    textArray[14][1] = "asd"; 

    textArray[15][0] = "asd"; 
    textArray[15][1] = "asd"; 

    textArray[16][0] = "asd"; 
    textArray[16][1] = "asd";

    textArray[17][0] = "asd"; 
    textArray[17][1] = "asd"; 

    textArray[18][0] = "asd"; 
    textArray[18][1] = "asd"; 

    textArray[19][0] = "asd"; 
    textArray[19][1] = "asd"; 

    textArray[20][0] = "asd"; 
    textArray[20][1] = "asd";  
  
    console.log(textArray)
  }

</script>  
</html>